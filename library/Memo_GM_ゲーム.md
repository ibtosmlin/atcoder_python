# 石取ゲーム

問題
1. N個の石から2人交互に石を取り除く。最後の石を取り除いた方が勝ち。
1. 1回で先手は1～A個、後手は1～B個取り除ける。
1. 両者最適手を取った場合、勝者はどちらか。

結論
1. 先手が初手で石を取りきれる(A≧N)なら先手必勝。
1. A==Bなら、N%(A+1)がゼロなら後手、それ以外先手必勝。

- N%(A+1)==0 ->
- 先手が何を出しても、後手が（先手＋後手=A+1）となるように出せば、
- 最終的にN == A+1となり、同様に先手が何を出そうと後手が勝てる

3. それ以外は、A,B多く取れる方が勝ち。

- B>Aならば、N%(A+1)==0となるように後手がコントロールできる
- A>Bならば、N%(B+1)==0となるように先手がコントロールできる


# ミニマックス法
自分にとって最も有利な手を打ち(max)、次に相手が自分にとって最も不利な手を打つ(min)。
これを繰り返すことで毎回互いに最善手を打つ。
このアルゴリズムをミニマックス法と呼ぶ。
ミニマックス法で評価に使う得点を求めるには、ゲーム木探索をする。


# Nim
問題
1. N個の石の山から2人交互に石を取り除く。最後の石を取り除いた方が勝ち。

結論
1. 各山の枚数のgrundy数のxorをとった時に、
- 0ではない -> 先手の勝ち
- 0である  -> 先手の負け

2. 基本の仕組み
- 0である状態からは0でない状態にしかならない
- 0でない状態からは0にすることができる

3. 参考
- 同じ数の山があった場合,xorが相殺されるので無視できる


# Grundy数
0のとき負け

現在の状態から、次の状態のgrundy数の集合のうち、存在しない最小の非負整数(mex)
{0,1,2,,4,5,6,7,8}->grundy数=3


# 勝ち負けの判定
- 結論から、W/Lを逆算していく
- 遷移先にLがある場合はW
- 遷移先がすべてWの場合はL
https://atcoder.jp/contests/caddi2018/tasks/caddi2018_b
